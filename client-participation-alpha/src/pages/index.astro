---
import Layout from './layouts/Layout.astro';
import Header from '../components/Header.astro';
import SurveyForm from '../components/SurveyForm.jsx';
import Statement from '../components/Statement.jsx';
import { Survey } from '../components/Survey.jsx'; 

// Mock API endpoint for survey details
const surveyDetailsResponse = await fetch('https://jsonplaceholder.typicode.com/posts/1');
const surveyDetails = await surveyDetailsResponse.json();

// Mock API endpoint for statements
const statementsResponse = await fetch('https://jsonplaceholder.typicode.com/comments');
const statements = await statementsResponse.json();
---
<Layout>
  <div class="container">
    <Header />
    <h1>{surveyDetails.title}</h1>
    <p class="description">{surveyDetails.body}</p>
    <p class="conversation-intro">Welcome to a new kind of conversation — vote on other people's statements — the more the better.</p>
    
    <Survey client:load initialStatements={statements} />

    <div style="margin-top: 3rem;">
        <div class="logo">p.</div>
    </div>
  </div>
</Layout>